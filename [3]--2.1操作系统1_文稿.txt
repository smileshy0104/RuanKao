	好，那么今天的话我们要进入到我们重要课程的学习了，好吧？我们前面讲的这个导学，还有我们的计算机系统基础知识，都是只做了一些简单的介绍，对不对？那两块其实也没有什么习题，基本上就是你了解一下，就是由浅入深。
	接下来我们今天要讲的是我们的操作系统知识。操作系统支持这一块的话，它整体来说，每年改版之后，每年的考分还在3到5分，就是改版之前也是这么多分，好吧？他严格来说的话，在我们的第二版教材上对应的是2.3.2小节。这个上节课我就跟大家讲过了，对吧？他在教材上的话，你可以去看到，他只讲了大概2到3页的内容，就整本书只有两个三页内容。他只介绍了一些操作系统的一些概述，就是说什么是操作系统，操作系统的功能，操作系统的作用这些东西等一下我们会给大家看到，就是教材本身的内容就占这一小块。
	然后接下来后面的我们所讲的这些进程管理、存储管理、设备管理、文件管理这些东西的话，都没有提到，他是什么呢？他是那个。它是它可能的话现在是默认你需要会这些东西。因为它改版之后的话，还一直在考。比如说像进程管理里面，我们进程的这个状态，死锁一直在考。包括进程的调度，存储管理里面像我们的分页存储，我们的断页式存储它的概念，包括设备管理里面它的IO的工作方式，以及文件管理里面的计算，像位视图的计算，我们五月份5月225年5月份还考过，所以的话这个章节我们需要给大家扩充来讲解。
	第一的话是会把我们教材本身的那3两到3页的内容，操作系统的概述会给大家先讲掉。然后接下来的话就是给大家扩充的补充的，也就是我们改版之后会考的，好吧，会考的。主要的话，我们知道，其实我们学习操作系统，大家也知道，主要的话我们其实从五个方面去学习，就是进程管理、存储管理、设备管理文件管理，还有一个作业管理，对不对？但作业管理的话，因为从来不考，我们就不管。
	其中的话，我们最重要的考的最多的其实就是进程管理。进程的话我们这里会有进程的状态三态图，进程的同步和互斥，进程的调用，包括思索，包括县城都是经常考的。存储里面的话其实考的比较多的就是分页存储。分段段页式的概念可能会提到一点。然后设备管理里面考的比较多的话，其实是这个IO的工作方式，就是我们数输出外设它的工作方式，简单来说就是它如何跟内存进行数据交互的。然后文件管理里面的话，主要是一些计算，像索引文件结构的计算，文件存储空间，也就是我们卫视图的计算，在这里会暂时给大家看到好吧，至于其他一些内容的话，虽然说改版之后没怎么考过，比如说像IO软件的设备管理技术，但是的话是一个体系，我们就给大家带一下好吧。
	好，那么我们就来正式的来看这一个章节的内容首先我们来看一下什么是操作系统，这个就是我们官方教材上的内容我们来给大家先带过一下。都是些概念性质的。这些的话也是在改版之后，也是多次考到这些基础的概念，所以的话我们要以这个文字为准。
	首先我们知道操作系统本身是属于我们的系统软件。上节课的话我们讲到我们计算机的软件分，为什么呢？系统软件和应用软件。其中系统软件的经典代表就是我们的操作系统，它本身是我们计算机系统的叫资源管理者，能够对我们计算机里面的软件硬件资源来实施管理。实施管理它的主要作用就是你看到它的功能，它的功能就是也是这里提到的，你看到CPU管理、存储管理、设备管理文件管理，其实还有一个作业管理，只不过作业管理不好这里的CPU管理就是我们前面讲的进程管理，它有不同的叫法，有时候叫进程管理，有时候叫CPU，有时候叫处理器管理，不同的叫法。这里的存储管理就是我们指的对我们的内存空间。设备管理的话，是对我们的外设输入输出设备文件管理，是对我们的外存空间，就是我们的硬盘的这个存储空间。
	好吧。好，那么操作系统的话，本身它也是一个软件系统软件。它是由什么呢？叫操作系统的内核，以及的话其他的附加配套软件组成。其他附加配套。其中大家注意，我们的操作系统的内核的话，它就是实现我们操作系统最核心的这些功能。核心的功能就是刚才讲的那几个管理，进程管理、存储管理、文件管理、设备管理。这些功能的话是最基础的也是最重要的功能，是由我们的操作系统的内核来实现的。
	而至于我们其他的一些配套的软件有哪些呢？这个其实就是你在安装一个纯净版的操作系统的时候，它会附带的一些软件。比如说最简单的大家知道就是我们的桌面用户界面程序，我们的日历计算器，这些都是系统本身自带的是吧，包括配给我们的网络浏览器、任务管理器、磁盘清理程序、防火墙这些。注意，是我们安装纯净版的操作系统所带的，不是那种你附带一些乱七八糟的第三方的软件。好吧，这是操作系统的两个组成。
	好，然后接下来我们来看一下操作系统的作用，它一共的话有三个方面的作用。像这些出现的2 444个这样的东西的话，是很容易考选择题的。大家知道吧？因为他正好来说就是说ABC，就问以下哪个不属于操作系统的最重要作用，那么ABC然后D再随便编一个，很容易出选择题，你要注意。
	首先的话，就是我们刚才讲的，操作系统是我们系统资源的管理者。也就是说能够去管理我们计算机运行的各种软件硬件资源。其次的话，第二个它能够为我们用户提供叫友善的人机界面。这个人机界面其实就是我们讲的桌面，给我们提供了桌面，我们可以进行操作对吧？
	第三个的话，就是它可以为应用程序的开发和运行提供一个高效率的平台。就是说能够支持什么我们的应用软件的开发。比如说会给我们提供这种集成开发环境IDE，实现我们的代码的编辑、编译、调试、运行，对不对？能够的话去运行我们的应用软件。所以三个作用要注意，资源管理、人机界面以及的话应用的开发和运行。
	好，除此之外，大家注意这三个的话，称为是我们操作系统的三个重要的作用。我们还有一些什么呢？不重要的作用，也就是操作系统的其他作用。大家看到它具有什么呢？叫辅导用户操作，就是帮助的功能。比如说打开帮助文档，教你怎么去操作处理软硬件错误，监控系统性能以及的话保护系统安全等其他作用。所以你在考试的时候，如果说问到这个操作系统的作用，你要看清楚了，它问的是重要的作用，还是说是整体的所有的作用。好吧？
	好，然后我们再看到操作系统的四个特征，这四个特征的话是比较经典的比较经典的并发性、共享性、虚拟性以及的话不确定性。其中并发性的话是我们比较有意思的。因为的话这个并发它是不等于我们讲的病情的。我们这有两个概念，并行就是真正的两个进程，或者说多个进程同时运行。而我们的操作系统，它里面的话，虽然说大家知道它也是多个进程可以同时运行的，但是它并不是称为叫并行，它是一种叫并发。并发是一种什么意思呢？简单来说就是微观上行，而宏观上并行这种叫并发。也就是说的话，它并不是一种真正的病情。
	好，这个我跟大家简单的解释一下，就是说我们的操作系统，其实一般采用的就是我们现在计算机里面采用的都是分时操作。分时是什么意思呢？就比如说大家知道我们现在的CPU，我们经常号称有四核八线程，八核十六线程，对不对？没有关系，就算你的和再多，你也不可能有进程多。我们操作系统里面运行的进程其实会有上百个。它不是说你肉眼看到的，你打开了几个软件这么简单，辅助你软件运行的进程有很多，你可以打开任务管理器去看，一般都有上百个进程运行，你的CPU里面集成的核再多，也不可能有上百个，对吧？这样就导致的话，你不可能说一个进程能给他分配一个内核进行运行。
	那比如说可能我只有八个内核，但是我同时要运行上百个进程，那这个时候怎么运行呢？我们采用的就是分时调度。也就是说我们每一个内核的话，我们会给每一个进程分配一个时间片。这个时间片比如说它可能是100 100微秒，就是说每个进程都可以运行一个时间片运行100微秒，运行完之后就给下一个进程运行。然后你运行完之后再给下一个进程运行，就是每个进程轮流运行100微秒这个时间片。这样的话，我们知道它在微观上，就是说在微秒这个级别，大家知道它肯定什么？肯定是一种串行的，因为大家是轮流运行，你运行完我才运行，是一种串行的。
	但在宏观上的话，是一种并行的。因为宏观上对于我们人类来说，我们是没有办法观测到微秒这个级别他的一个停滞动作的对吧？所以宏观上来说，我们其实是一种并行的，所以这种我们称之叫并发，就是微观串行。宏观并行是通过分时调度来实现的，这是一个很重要的一个特性。
	好，然后的话第二个我们称之为叫共享性。这个共享的话很简单，操作系统里面的资源，软硬件资源都可以被进程或者说线程进行共享，对吧？而不是被哪个进程独占。然后第三个叫虚拟性，这个虚拟性的话，主要是针对我们的设备管理里面的。我们后面会讲到设备管理里面一个sporting技术，它可以把我们的独占的物理的设备转变，为什么呢？就是共享的虚拟的设备，就是物理上是独立的，而逻辑上可能是多个。
	最简单来说，我们现在应用的最广泛的就是我们的打印机。打印机，大家知道打印机，我们比如说我们一个公司，一个办公室，我们只配了一个打印机。那这一个打印机在物理上大家看到的就是一个，对吧？但是在逻辑上，他其实是人手一台，懂吗？逻辑上是我们大家每一个人的电脑都可以连这台打印机，连上了之后，在你的电脑上就会虚拟出一个打印机。你打开设备和打印机是不是这样的？
	这就是我们讲的什么呢？就是物理上其实只有一台，但是我们每一个人连上去，每个人电脑上都有一台，这是逻辑上变成了多台，这样有一个什么效果呢？就是每一个人都可以共享的去使用这个打印机。共享的去使用这个打印机，好吧，这是虚拟性。好。
	然后第四个的话叫不确定性。不确定性的话就是什么呢？我们知道我们系统里面的进程是可以并发执行的，但是因为系统里面的资源有限，这个后面我们会讲到进程的同步和互斥。它就会导致一个进程在执行的过程当中，它可能会突然需要某一个资源，而这个资源当前系统里面是没有的，别的进程还没有释放掉，那么他就需要等待，这就会导致什么呢？我们整个系统里面的这些并发的进程，他的执行的顺序，他的执行的这个时间是没有办法去预测的，是不确定的。就是说他可能是走走停停，跑一段时间没有资源了停下来阻塞在这里等待有资源了再跑，走走停停就是不确定性，好吧？好，这是四个特征。
	然后接下来我们再来看到就是操作系统的功能了。这个功能就是我们刚才讲的，它本身是属于操作系统内核的核心功能。进程管理就是对我们的进程，它这个的话它又称为叫处理机管理。在很多地方有不同的叫法，不同的操作系统的数据里面有比如说叫处理器管理，就处理器叫CPU管理。因为它本质上是对于什么呢？我们的CPU的内核和进程之间的一个调度关系的管理。好吧。
	然后的话文件我们刚才讲的文件是指对什么？对于我们的外层空间，就是硬盘空间的管理文件的读写存取。这些存储的话是对于我们的内存空间，就是主存进行管理。它的回收分配设备就是对我们的硬件设备，一般就是我们的输入和输出这种外设作业的话就是对于什么呢？它是对于作业是一个比较宏观上的一个叫任务。我们从外层调入到内存里面的这个作业，它会包含你看到界面，人机交互等一系列的好吧核心功能。
	好，然后接下来我们再来看一下操作系统本身的一个分类分类。操作系统本身的话，你看到它可以分为很多。这里你看这里刚才我们讲的分时操作系统就在这里。分时这种机制是实现我们操作系统并发性的一个重要的机制。我们现在目前普遍我们使用的操作系统都具有分时调度的功能。好吧，都具有分时调度功能。
	好，然后的话就是上面这个批处理。批处理大家应该不陌生，这是比较早期的这种操作系统，对不对？它分为单道批处理、多道批处理是吧？单道就是你一次执行一个，多道就是可以执行多个，对吧？
	然后还有下面的这个叫实时操作系统。实时这个概念一般会应用在我们的嵌入式或者说工业领域。好吧？因为实时他强调两个点，就是要求在什么呢？在规定的时间内给出什么正确的反馈？一个是规定的时间，一个是要正确的反馈，你不能乱给我回复，好吧。所以的话它一般会运用在我们的工业嵌入式这种领域，对安全性和实时性要求比较高比较高。
	好，下面这个叫网络操作系统，这个很简单，就是指什么呢？我们的操作系统能够去联网，能够在网络上实现互相的通信和共享的功能通信和共享的功能。你看这种经典的，我们集中的还有CS以及p to p等不同的这个模式，对等模式。P to p对不对？能够提供网络通通信。我们现在的操作系统也普遍具有网络功能，好吧。我们现在的操作系统其实集成性质的，它不是说我只具备其中一个好吧。你像基本上现在大家都有分时网络的功能，然后嵌入式里面可能还会加实时的功能。
	然后下面还有我们传说的分布式操作系统，这是我们最近比较火的云分布式微服务这些东西对不对？兴起的分布式的话很简单，就是物理上我们的计算机是分散在不同的地理位置，但是逻辑上是一个整体，对吧？他一般来说就是会在我们的云里面，我们会把多台计算机给它串联起来，统一他们的算力和存储，来为我们的大数据大流量来提供服务。
	好，微型计算机操作系统就是我们的微机系统，这就是我们现在正在使用的像windows、linux是微机。我们的微机系统本身也会具有什么呢？我们这里讲的分时网络等一系列的功能。
	还有的话就是我们这里的嵌入式操作系统，嵌入式操作系统是比较经典的，我们后面还会有一个单独的嵌入式章节会详细的说。这里我们可以看一下，嵌入式的话，就是运行在我们的嵌入式智能芯片环境里面。我们现在的嵌入式设备是非常广泛的，像大家家里面这种智能的家具家电，对不对？比如说我们的智能音箱，我们会在这里面植入这个芯片，然后里面会烧写进它的程序，对不对？
	嵌入式的这个操作系统或者说嵌入式的程序，它有一个特点就是什么呢？就是它的资源是不充分不足的，环境一般来说是比较恶劣的。在我们自己家里面还好，如果是在工业现场里面，他那个灰尘各方面环境是很恶劣的。还有就是你知道一个智能音箱也就几十块钱，100块钱。它里面不可能说既包含我们传统的CPU显卡，不会有这些东西，对不对？所以它的这个资源，包括它的内存运行内存都很少，资源很恶劣。那么你要往里面，你说我去删一个操作系统，你想我们现在的windows几个G的塞不进去，对吧？
	所以的话嵌入式操作系统它的特点，大家注意就是首先是微型化，它的运行内存可能就几兆，你说我要塞个windows进去不可能对吧？它一般来说的话是非常小型的那种系统，或者说干脆就没有系统，只是一个指令集，所以的话是微型化。还有就是可定制，你的系统怎么变得那么小，就是可以定制进行裁剪。知道我们的智能音箱我不需要打游戏，我也不需要这个干嘛，我们就把那些功能全部给它裁掉，只保留基本的指令运行的功能。
	还有的话就是实时性，这是嵌入式工业领域最常见的实时性以及的话可靠性。可靠性的话，这个其实也主要是嵌入式。嵌入式其实主要强调实时和可靠。因为它应用在工业领域你一旦不安全、不可靠，那么就会带来人身伤害的危险，对吧？比如说就像我们你操作一个大型机器一样的，你点一下它不动那就危险了，是不是？就是易移植性，它可以方便的进行移植，因为它的这个中间的硬件抽象层是可以独立出来的，跨平台好吧？那么我们的嵌入式系统就是我们的嵌入式设备。
	如果说在初始化的时候，在刚启动的时候，我们的嵌入式系统进行启动，它的过程怎么样呢？它会首先进行叫片级初始化。这个片级就是我们讲的芯片，芯片就是嵌入式里面的芯片，比如说像ARM系列或者说别的好吧，DSP系列，芯片初始化之后，然后是钣金，这个钣金就什么意思呢？就是开发板，也就是说除了芯片之外的其他硬件，除了芯片之外的其他硬件，LED、LCD、传感器这些初始化，那么到这里所有的硬件就初始化完了。接下来才会跳转到我们的那个start点S这样的一个引导性的文件，去完成我们的系统的初始化，就操作系统初始化。好吧，这个了解一下。这个整体就是我们的操作系统的概述，也是我跟大家讲的我们第二版教材里面关于操作系统介绍的全部的内容。接下来的很多内容就是我单独补充给大家的，也是我们改版之后的考试，一直在考的，好吧，也是要认真学习，认真学习。
	好，我们来看一下，接下来就是我们按照五大管理，但是作业管理不考，所以就是四大管理的角度来跟大家讲里面的考点，好吧？好，首先的话我们来看到的是进程管理，这个管理是我们最为重要的。我们到时候学完之后，我们会整体再来看一下近几年的一些真题，大家可以一起做一做，你就知道了好吧。这个章节的话进程管理，首先你要理解进程是什么。
	进程简单来说就是什么？就是运行这个程序，对吧？如果说你的程序是静态的，是存在我们的外存里面的，那么这个时候的话，我们就称之为叫程序。如果说你的程序会被调度到我们的内存里面进行运行，那这个时候我们就称之为叫进程，对吧？所以简单来说它就是运行者的程序。程序在运行的过程当中还需要什么呢？还需要数据，所以程序数据是它的重要组成部分。另外还有一个就是它的PCB叫进程控制块，这里面会是唯一标识我们这个进程的，包括我们进程的ID对吧？
	好，然后接下来我们看第一个重点，就是这里我们进程的状态。这个改版之后就考过很多次，很简单送分题我们只需要掌握基础的进程的三态，就三种状态。大家可以看一下，这是基础的三态图。这三种状态很简单，叫运行态、就绪态以及阻塞态。其中我跟大家讲运行态的话叫什么都不缺。就绪态的话我们可以理解为叫只缺CPU。而主色态的话它不光缺CPU，它还缺一个别的东西。一般来说我们可以认为是一个外部的IO事件。
	好吧，然后我们来理解一下他们之间的一个转换关系。我们要知道哪些能转换，怎么转换，以及哪些不能转换。你看首先它这里是基于我们讲的分时调度的。我们现在操作系统普遍采用的就是我们进程在运行的状态，在运行的状态就是什么呢？就是在被调度的状态。也就是说这个时候给我们一个进程分配了一个CPU的内核，我们这个进程就开始运行。它在运行的过程当中，如果说它获得的时间片到了，因为我们刚才讲了分时调度，可能你一个进程只能运行100微淼对吧？OK你时间片到了，那么你就要让给把这个内核让给下一个。
	所以的话时间片到了，我们的进程就会进入到就绪状态，这个时候就没有CPU了，因为CPU让出来，那么你在排队下次如果轮到你了，那么你就会被调度。就是你又有CPU了，你又进入到运行状态，这两个是可以的。好，然后接下来我们进程在运行的过程当中，还有可能因为外部事件的阻断导致进入阻塞状态。最经典的就是我们讲的外部的IO就是数据传输。就比如说我当前一个软件运行的好好的，突然我需要等待你用户输入一些东西，就是你的用户键盘命令输入一些东西。那这个时候我们的这个CPU，他不会去傻傻的等待你的进程，他会把什么呢？他会把你的进程进入到阻塞状态。就是你在等待某个事件的时候，它会让你的进程进入到主状态。我去运行下一个进程，他不会在那里傻傻的陪你等，好吧。
	所以的话等待某个事件进入到阻塞状态，那么这个阻塞状态，如果说我们等待的事件发生了，比如说我们等待用户输入一个命令，用户输完了。那么这个时候发生了之后，他又会进入到就绪状态。你要注意它不能直接从阻塞这里我们要注意，不能直接从阻塞到运行，为什么呢？因为你想获得CPU，你就必须到就绪这里面去进行排队，必须要排队好吧？
	其次我们不能从就绪到阻塞，为什么呢？因为就绪和阻塞本质上来说进程都是禁止的，就是说都是没有CPU运行的那这个时候你没有运行，你不会好好的说，我要获取一个IO懂吗？两个不能，以及的话能它的条件是什么？这个三态要注意掌握。
	好，然后接下来我们来看下一个知识点。下一个知识点的话叫进程资源图。这个进程资源图的话它可以用来表示我们的进程和资源之间的一个分配和请求的关系。就说用来衡量我们整个系统里面的所有的进程和资源之间的关系。
	我们可以来看一看，这里首先我们看到这里的R就是我们讲的叫resource，叫资源。这个资源它用长方形来表示，里面的圆圈就表示资源的个数。那你看到这里我们R一资源这里一共有两个，R2资源一共有三个。下面这个P就是我们讲的process，也就是进程。这里一共有三个进程，P1、P2、P3好。这里的箭头就代表我们资源的一个分配和请求的情况。
	这个时候怎么看呢？我们建议大家从我们的资源这里看，接着我们应该从资源入手来看。好，从资源来看的话，我们发现对于这资源来说，我们有出去的箭头，也有进来的箭头。那么这个分别代表什么？出去的箭头代表它已分配的，就是说这个资源已经分配的，出去一个就分配一个。
	这里我们就可以看得出来，我们这个R一出去了一个两个，所以他就已经分配出去了两个资源。它本来就只有两个资源分配出去了两个，那么它还剩多少资源？还剩零个资源，这是他出去的，那么他进来的，你看到我们R一进来的只有一个箭头，只有一个箭头，那么进来的表示什么呢？表示我还需要去申请这个资源，也就是说我们现在PR还需要去申请一个RE。
	那么问题就来了，我们现在知道我们RE的两个资源都已经分配出去了，没有资源了。那么你PR现在还要来申请我RE请问你申请的到吗？这个时候肯定是申请不到的，因为没有资源了。
	好，那么这种情况下我们PR再申请一个申请不到的资源。也就是说我们PR在做一个什么？不可能完成的事情。那这个时候我们就认为这个PR是一个叫什么呢？叫阻塞节点或者说阻塞进程。注意什么叫阻塞进程？就是你再申请一个，或者说你在做一件不可能完成的事，你再申请一个没有的资源叫阻塞。好吧？
	好，那么这个时候我们再来分析一下，我们从资源的角度，我们同样来看一下它出去的有几个，一个、两个，那么他一共有三个资源，减掉两个就还有一个对吧？那么我们再看他进来的有几个，他进来的有一个两个，也就是说我们的P1和P3都要申请一个R资源。那我们的R资源还有多少个？还有一个，但他们两个都要。那么这个时候就请问了，你觉得P1和P3它们是阻塞节点吗？
	这个时候情况又不一样了，这个时候P1和P3不是主摄节点，因为主摄的意思是说这件事我不可能得到。那么这个时候虽然说我只有一个资源，但是是不是我P1和P3都有可能得到这个资源，对吧？他没有说我要同时满足他们。对我P1P3是单独独立？那么我有一个资源，我这个资源是不是说我分配给P1也行，分配给P3也行。虽然说我不可能同时满足，但是的话什么P1P3都是有机会得到这个资源的。它不像你刚才就没有资源，你是没有机会得到的。
	大家要懂这个区别，所以的话我们的P1P3就是什么？他们就是非阻塞节点，非阻塞节点因为是有机会得到的，这个就是阻塞节点和非阻塞节点的一个判断，这是第一点，这是考点的第一点。注意。
	然后第二点的话，就是我们要注意判断我们当前的进程资源图是不是死锁状态，以及能不能化解这个死锁我跟大家讲，首先就是如果说我们这个进程资源图里面的三个进程，就是所有的进程都是死都是阻塞节点，那它肯定整个是死锁的。但是如果说它这个里面有非主设计点，那么我们就可以尝试去化简它长度。去化简的化简是什么意思呢？就是说你能不能让这些进程全部都顺利的获取资源执行完。
	如果你想让他们顺利的执行完，那么你就必须从非阻塞节点入手去化解。你不可能从阻塞节点入手去化解，因为阻塞节点我们讲的是什么？你像PR他现在等他等不到他也没有资源给他他就不可能运行。所以你不可能从他开始走，对不对？你只能从非阻塞节点开始走，那么我们现在尝试现在P1和P3，那么我们随便选一个。假设我们选P1，就是我们想先运行P1，先运行P1有什么要求？就是我们要把这个R他申请的R给到他，我们R确实还有一个，我们就给他呗。给它之后，那么这个时候P1就运行了。
	P1运行完之后，这里是我们内存管理面比较重要的就是什么呢？我们的进程运行完之后，它会释放它拥有的资源，这个应该不难理解。因为大家知道你我们自己操作内存，你应该知道你买lock之后你是要free掉的，对不对？你这个不是说你16G的内存跑一段一段就没有了，对不对？你跑完了之后，关掉了之后，这个内存是会被释放掉的。所以这里你要注意，当我们的PE运行完之后，它会把它拥有的一个R一和一个R2给它释放掉。
	那么这个时候的话，P运行完之后，我们的R一就有一个了，R还是一个，那么这个时候问题就来了，这个时候就很好了，怎么样呢？这个时候你会发现我们的PR也变成非阻塞节点了，P3也是非阻塞节点的那接下来我P2的这个R一我也可以给它，P3的R2我也可以给它。比如说我运行P2P3或者说P3P2都可以，那么我就可以保证什么，我这个进程可以全部都运行完。
	这样的话，我们这个进程就是一个叫什么非阻塞进程，就是我们整个进程资源图是什么？是可以化简的对吧？我们整个进程资源图是可以化简的，这个就是这里的两个考点。注意，第一个阻塞节点和非阻塞节点。第二个这个进程资源图是不是死锁，可不可以化解？
	好吧，刚才都跟大家讲了。好，然后接下来我们再来看一下比较重要的就是进程的同步和互斥的原理。同步和互斥那么了解同步和互斥，其实我们考的不难，所以我们了解一下基础的就可以了。首先有些基本概念就是你了解什么是同步，什么是互斥的。互斥就是同一时间只能由一个进程单独使用这个资源。所以你使用的时候，你一般需要对这个资源进行加锁，加锁保证别人不能使用，保证别人不能使用。使用完之后，再解锁是吧？再解锁这个要注意。
	好，然后接下来的话是同步。同步的话是指我们多个任务可以什么并发执行，只不过有速度上的差异。多个任务可以并发执行，只不过有速度上差异。就比如说我们都是从上海到北京，一个坐飞机，一个坐高铁，一个开车，有速度上的差异好吧，也就说他们的资源是可以共享的。
	好，那么这里要注意，就是我们在互斥的时候，我们这个互斥的资源我们称之为叫临界资源。就是同一时间只能由一个进程访问的资源，我们称之为叫临界资源。而我们对临界资源进行操作的那段程序，我们称之为叫临界区。称之为叫临界区所以的话临界区本质上是一段程序代码，这个不要搞混了概念，好吧。
	我们在执行这种互斥和同步的时候，我们知道我们是通过锁机制来保证的，就加锁和解锁。这个时候一般我们要设置信号量，叫同步信号量和互斥信号量。好吧？那一般来说互斥信号量它的初值是一，大家注意，互斥信号量的初值是一，为什么呢？因为一般来说我们对于我们的互斥信号量，我们是同一时间只允许一个进程来访问。这样的话，你把它初值设置为一，当我们加锁之后它变成0，那么其他任何人都不可能再访问了，除非你解锁对吧？而同步信号量的话，它的初值一般是我们共享的资源的数量。比如说当前我们有5台电脑，那么我们对这个电脑设置一个同步信号量初值就是五好吧？
	好，有了这个基础之后，我们可以来了解一下，在我们同步里面我们会有两个经典的操作，叫P操作和V操作。P操作很简单，就叫申请资源。你申请资源之后，申请了一个，那么你的资源是不是就减少一个，所以这里的话我们PV操作是针对我们的信号量进行操作的，就同步和互斥信号量都可以。假设我们这里是一个同步信号量，那么这个信号量的话，当这个信号量的值是大于等于0的时候，它表示的是我们这个资源的个数。这个前面已经跟大家讲过了，共享信号量对不对？
	那么问题来了，大家有没有想过就是当这个信号量的值是小于零的时候，它表示的是什么？比如说我们举一个简单的例子，当前我们的公司有三台电脑，我们公司有五个程序员。每个程序员在编程的时候都需要去申请一台电脑，对吧？我们知道我们这个信号量的初值就是三，那么你没有一个人申请，那么这个信号量就会减一就按照我们说的，你申请一个你的信号量就会减1，那么你减到2、减到1、减到0，对吧？那这个时候如果说当你为零的时候，还有一个程序员要申请，那这个时候信号量还是要减1，它就会变成负一了，负二了。那么这个负数代表什么呢？我可以说我们有一台电脑两台电脑，但是不可能说我有负一台电脑，-2台电脑，对吧？
	所以我们要搞清楚，当我们的信号量小于0的时候，它其实表示的是什么呢？就是我们当前正在阻塞的进程个数。阻塞的进程个数就什么意思呢？就比如说你看到三台电脑，三个人正好申请完，这个时候第四个人要申请信号量就会变成负一。这个负一其实代表什么？代表第四个人其实没有申请到资源，它是主摄在这里面进行排队，也就说这个代表有一个人在排队。如果是负三就是有三个人在排队。所以三个主摄镜头在这里排队，这是信号量的一个含义。
	好吧，有了这个基础之后，我们再看下面这个PV操作就很简单了。你看首先P操作，对信号量先减1。因为只要你申请一次，你的信号量就要减1。减一之后它会判断我们的S是不是小于0，这个是不是小于0？如果说是小于0，那么这个时候我们就会怎么样呢？四小于零意味着什么？意味着我们当前是没有资源的，刚才不跟大家讲了，对吧？如果你的信号量小于0，意味着当前是没有资源，没有资源，那么你能不能申请得到？
	申请不到，申请不到，那你怎么办？去排队，阻塞在里面去排队，就跟你排队买奶茶是一样的，没有你在这里排队。如果有，比如说S大于等于0，那么你就直接给你就结束了好吧？
	那么微操作我们叫释放资源。释放资源首先会把我们的信号量进行加1，信号量加1，但这个时候我们也要考虑S是不是小于等于0，为什么呢？因为你想如果S是如果我们的资源是小于等于零意味着什么？意味着我们当前有人在排队，有进程阻塞在这里面。
	那么你释放了一个资源，你是不是应该优先给什么？给这个排队的对头。就像你在买奶茶一样，他做出来一杯，他是不是应该先给你排排队的第一个？所以的话如果当天有人在排队，那么我们就把这个资源先给排队的，从主设置里面选一个先给他。如果说没有人排队，S大于0，那你就释放完之后你就直接结束就得了，好吧。
	这是比较简单的一个PV操作。基于这个PV操作的话，大家可以看一下，就是我们传统的这种生产者消费者的问题，这是比较简单的PV我们可以看一下，生产者和消费者的问题很经典，这是一个比较基础的，没有什么复杂的。首先的话就是生产者要生产一个商品生产完商品之后的话，要把这个商品放到仓库里面去。然后消费者的话他需要从仓库里面把商品取出来，取出来之后进行消费，好吧？很简单的一个流程。但这里的话要注意一点就是什么呢？
	这里要注意一点就是什么呢？就是我们的这个消费微操作释放S小于等于零走T分子吗？对，为真的时候走T分之。刚才不是跟你解释了吗？因为你S小于等于零意味着什么？意味着我们当前有阻塞的进程，就是有人在那里排队，你有人在那里排队就应该什么，你就应该先把释放出来东西给排队的人，对吧？如果没有人排队，就是S大于零为假，没有人排队，那你就什么就直接结束就得了，对吧？
	然后我们再接着看刚才讲的生产者消费者的流程，好吧？在这里面我们还要约定一下，就是什么呢？就是我们的仓库是什么？是只能被独立使用。这里要注意，这里我们有一个约定，就是约定仓库只能被独立使用，也就是说只能生产者或者说消费者使用它，不能同时使用。
	好，有了这个约定之后，我们可以来设置一下我们这里的信号量。我们这里的信号量首先就是关于仓库的一个独立使用权，这个信号量应该把它设置为互斥信号量，对吧？因为同一时间只能有一个人使用互斥信号量。
	然后其次的话就是什么呢？就是我们商品的个数以及什么我们什么仓库的空位数，这两个应该设置为叫共享信号量，对吧？为什么呢？因为首先你消费者想要取出商品，你得什么？你得有商品，所以你得关联这个商品的个数。好，你生产者你生产出商品，你要放到仓库里面，你在仓库里面有空闲的位置你才能放进去，对不对？所以这里一共有三个信号量。
	那么我们按照这三个信号量，我们产生这个流程就怎么样呢？你看生产者这边什么呢？他先生产的一个商品，然后的话那他什么他首先要申他要把这个商品放到仓库里面。把这个商品放到仓库里面需要经历几步呢？首先第一步需要申请到这个仓库的独立使用权。
	因为仓库如果这个仓库正在被别人使用，你是用不了的对吧？所以他首先申请这个仓库的独立使用权PS0，这是我们的呼吸信号量OK。如果说这里没有申请到，他就一直在这里等待，是啊阻塞在这里。如果说申请到了就怎么样，接下来我们还要申请仓库里面有没有空位。
	这仓库里面有没有空位？如果说仓库里面有空位的话，我们才能什么我们才能把商品放入仓库里面。这个S一表示仓库的空闲的个数，OK把商品放到仓库里面，我们产生了一个什么效果？我们的商品个数加1，我们的空位个数减1，PS一已经减一了。但是我们的商品个数加1，商品个数是用什么呢？是用信号量SR来表示的，所以商品个数加一就是VSR对吧？
	好，那么整个这个放完了之后，我们要释放这个仓库。因为这个仓库要让别人去用，对吧？释放这个仓库VS0。
	好，然后接下来是我们的一个消费者的流程。消费者的流程的话，其实它首先就是什么？他首先就是申请这个PS0，也是要先申请仓库的独立使用权，对吧？好，能够使用仓库之后，然后再判断里面什么里面有没有商品。所以它是PSR就是申请一个商品，有商品就把这个商品取出来，取出来对不对？然后接下来它取出来一个商品，商品个数减1，PS2什么东西加一，当前仓库的空闲个数加1，比如说VS一空闲个数加一对吧？VSE好，然后接下来的话就是什么？就是我们这个VS0就是释放这个仓库，对吧？
	这是一个很简单的流程，这个流程不是那么严谨，这个流程其实不是那么严谨，因为你先申请到仓库，然后你万一这里面仓库里面没有空位，你不就阻塞在这里面了，对吧？但这里我们不用探究那么多，好吧，不用探究那么多。你要写的严谨的话，你可能这里面申请到仓库之后，你还要判断。如果说没有商品，你可能要先block掉，对不对？那这里我们不研究那么多，就你大概了解一下互助信号量和共享信号量它的一个使用就可以了好吧，掌握PV操作。因为我们考的话考的没有那么难，好吧。然后接下来我们再来看一个前驱图，这个也是在我们进程管理里面会用到的，后面我们会结合这个相关的题目来讲解。
	到时候你就知道，这个前驱图其实是在我们进程管理里面反映我们进程的一个执行状态的。执行状态怎么反应？大家可以看到这个前期图什么意思？你看这个前期图很简单，就是A能够决定B，这代表什么呢？代表A执行完之后B才能执行。这个其实反映的就是一个什么？就是一个PV操作的一个关系，A执行完之后B才能执行。
	那么在这个全局图里面，我跟大家讲前驱图里面的每一根线代表的都是一个信号量。代表的信号下就你可以看到这里，这是这1234这一个前驱图里面其实应该是要设置四个信号量，每一根线都是一个信号量。这个信号量什么意思呢？你看A执行完之后才能执行，B代表什么？代表的是A执行完之后会释放这个信号量。然后B在执行之前需要什么？需要申请这个信号量，它其实代表的是这个含义，同样后面也是这样的。所以的话你看这里箭头出来的其实就是一个微操作释放信号量，这个箭头进来的其实就是一个P操作申请信号量。
	那么我们再看一下这个图，这个图的话就是什么呢？ABC都执行完才能执行DD执行完才能执行E那么按照我们讲的每一根线上都是一个信号量，对吧？那么这个时候就是什么呢？你看A执行完之后会释放这个信号量，B执行完之后会释放这个信号量，C执行完之后会释放这个信号量。而对于D来说它什么它在执行之前它需要申请三个信号量，对不对？他在执行之前他需要申请三个信号量。这三个信号量都申请到了，他才能什么才能去执行？他执行完之后会释放一个信号量，是不是？
	所以你注意，这就是前驱图它的一个重要性。它的每一根线都是一个信号量，出去的是V进来的是P然后反映了进程之间的一个调度关系。这个后面有比较经典的题型，等整个进程管理讲完，我再给大家看那个题目好吧。好，然后接下来我们再来看到的是进程调度，进程调度另外一个知识点了好吧？这个近几年也考过，进程调度的话它就是指简单的进程调度，就是我们前面讲的分时调度比较简单的，每个人每个进程运行一个时间片，对不对？
	这里的话我们会讲就是什么呢？就是当发生冲突的时候，就你看到当有更高的优先级的进程到来时，我们该如何去分配我们的CPU内核。因为我们知道操作系统里面的进程运行它是有什么优先级的，有优先级的对不对？OK你当前的这个优先级，比如说你当前正在运行的进程的优先级比较低，那么突然有一个高优先级的进程来了，那么这个时候我到底是抢占你还是不抢占你？这个时候我们就可以分为叫可剥夺和不可剥夺两种情况，这个比较有意思，这个后面也有一个比较题目会比较难。
	你先理解这个概念，可剥夺什么意思呢？就是说如果说我的优先级更高，我可以剥夺你当前的进程的CPU，就是我高优先级的先运行不可剥夺就很简单，就什么呢？就是你优先级比较高，对不对？但是你也得乖乖的，等我运行完，就是我正在运行了之后，你是不能剥夺我的CPU的。因为这样的话其实会产生很多的这种意外的情况，好吧，简单来说就是能不能立马运行好吧，这很简单。
	然后另外的话我们可以看到，就是操作系统里面的一些作业的调度的问题。在我们操作系统里面的调度其实分为叫高中低三级调度，高级调度的话又称为叫长调度、作业调度或者说接纳调度。它是指什么呢？就是把我们外存里面的后备作业调入到我们的主系统，它一般是存在于作业管理里面，这个几乎不考，你了解一下好吧。中级调度的话，它一般又称为叫兑换调度。这些它是指我们处于交换区里面的哪个就绪进程可以调入到内存，就是交换区的进程调入到内存，这样的话可以参与对CPU的竞争，这个也是了解一下。
	而我们主要的话，其实我们学习的就是低级调度。这个低级调度就是我们讲的进程调度，这里面它就是决定我们在内存里面的哪个进程可以占用CPU，我们主要研究的其实就是进程调度好吧，别的两个字几乎不可，从来没考过的好吧。就说哪个进程可以占用CPU，那哪个技能可以占用CPU，是跟我们的什么呢？跟我们的调度算法有关系的。
	调度算法我们之前讲的我们操作系统里面普遍存在的调度算法是叫什么？叫分时重分时的系统。它采用的就是一种叫时间片轮转的调度算法。这就是我们刚才讲的分时调度，很公平的一种调度。好吧？就是我们刚才讲的，你每一个进程都是一个固定的CPU时间片，大家轮流使用100微秒对不对？时间片大小是一样的，很公平。
	好，除此之外我们可能还会有一些其他的调度，这里列出来的一些都不全，还有一些其他的，你看先来先服务这种调度，这种应该很常见，我们很多学员应该见过。先来先服务对不对？它不光是进城，还有夜市，很多里面都有它。是不是？就是说你的进程如果是先来的，我就先给你分配CPU，后来的就后分配好吧。
	还有就是优先级调度，就是按照优先级的高低，优先级高的先分配。那这个时候你要跟前面的叫可剥夺和不可剥夺是有关系的，对不对？有优先级高的来了，他能不能剥夺当前正在运行的，有很多情况。
	还有的话就是叫多级反馈调度。多级反馈调度这个的话它其实是时间片轮转加优先级调度的一个综合。这个什么意思呢？多级反馈调度你看这里面会设置多个优先级的队列，看到最高优先级次、高优先级低优先级，就是按照优先级的高低设置多个进程队列。每一个队列里面会有多个进程，这多个进程的优先级都是最高的。然后的话你看这里面会有多个进程，然后的话就每一个进程都会占用一个时间片。
	比如说都是100微秒，你运行100微秒，然后他运行，然后他运行OK运行完了之后，这时候有什么问题呢？如果说你这个进程没有运行完，因为100微秒，有的进程可能就运行完了，他的任务就做完了。有的进程任务没有做完，没有做完怎么办呢？我们就把这个没做完的进程放到下一个队列的队尾，再开始下一个队列的时间片轮询。那么下一个队列没有做完的再放到下下一个队列的队尾，再开始下下一个队列的时间片轮询是吧？叫多级反馈调度员好。

（内容由AI生成）